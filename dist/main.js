(()=>{"use strict";class e{constructor(e,t,n,d,i){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.stage=i}editTask(e,t,n,d,i){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.stage=i}}class t{constructor(e){this.title=e,this.tasks=[]}editProject(e){this.title=e}addTask(t,n,d,i,c){this.tasks.push(new e(t,n,d,i,c))}removeTask(e){this.tasks.splice(e,1)}viewTask(){console.log("view task")}completeTask(e){e.stage=!e.stage}}class n{constructor(e,t){this.title=e,this.content=t}editNote(e,t){this.title=e,this.content=t}}const d=function(){const e=[],d=[];return{addNote:function(e,t){d.push(new n(e,t))},addProject:function(n){e.push(new t(n))},removeNote:function(e){d.splice(e,1)},removeProject:function(t){e.splice(t,1)},projectList:e,noteList:d}}();function i(e,t){t.innerHTML="",t.appendChild(e),t.showModal()}function c(){const e=document.querySelector(".project-container"),t=document.querySelector(".content-dialog");e.innerHTML="",d.projectList.forEach((n=>{const a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),l=document.createElement("button");a.classList.add("project-div"),o.classList.add("project-title-div"),s.classList.add("project-content-div"),l.classList.add("new-task-button"),a.dataset.index=d.projectList.indexOf(n),l.addEventListener("click",(()=>{i(function(e){const t=document.createElement("form"),n=document.createElement("input"),d=document.createElement("input"),i=document.createElement("input"),a=document.createElement("input"),o=document.createElement("input"),s=document.createElement("button");return t.classList.add("project-form"),n.classList.add("title-input"),d.classList.add("description-input"),i.classList.add("dueDate-input"),a.classList.add("priority-input"),o.classList.add("stage-input"),s.classList.add("submit-button"),n.required=!0,d.required=!0,i.required=!0,a.required=!0,o.required=!0,t.method="dialog",s.type="none",t.appendChild(n),t.appendChild(d),t.appendChild(i),t.appendChild(a),t.appendChild(o),t.appendChild(s),s.addEventListener("click",(()=>{n.value&&(e.addTask(n.value,d.value,i.value,a.value,o.value),c())})),t}(n),t)})),n.tasks.forEach((e=>{const t=document.createElement("div"),n=document.createElement("input"),d=document.createElement("label");t.classList.add("task-div"),n.classList.add("task-checkbox"),d.classList.add("task-label"),d.innerText=e.title,t.appendChild(n),t.appendChild(d),s.appendChild(t)})),o.innerHTML=n.title,a.appendChild(o),a.appendChild(s),a.appendChild(l),e.appendChild(a)}))}function a(){const e=document.querySelector(".note-container"),t=document.querySelector(".content-container");e.innerHTML="",d.noteList.forEach((n=>{const i=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div");i.classList.add("note-div"),c.classList.add("note-title"),a.classList.add("note-content"),i.dataset.index=d.noteList.indexOf(n),c.innerText=n.title,a.innerText=n.content,i.appendChild(c),i.appendChild(a),e.appendChild(i),t.appendChild(e)}))}!function(){const e=document.querySelector(".main-container"),t=document.createElement("div"),n=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div"),o=document.createElement("dialog");o.classList.add("content-dialog"),t.classList.add("header"),n.classList.add("sidebar"),d.classList.add("content-container"),c.classList.add("home-button"),a.classList.add("projects-button"),i.classList.add("notes-button"),n.appendChild(c),n.appendChild(a),n.appendChild(i),e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(d),c.innerHTML="home",i.innerHTML="note",a.innerHTML="project"}();const o=document.querySelector(".content-container"),s=document.querySelector(".projects-button"),l=(document.querySelector(".home-button"),document.querySelector(".notes-button"));s.addEventListener("click",(()=>{o.innerHTML="",function(){const e=document.querySelector(".content-container"),t=document.createElement("div"),n=document.querySelector(".content-dialog"),a=document.createElement("button");t.classList.add("project-container"),a.classList.add("new-project","new-button"),e.appendChild(a),e.appendChild(t),a.addEventListener("click",(()=>{i(function(){const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("button");return t.required=!0,e.method="dialog",n.type="submit",e.classList.add("project-form"),t.classList.add("title-input"),n.classList.add("submit-button"),e.appendChild(t),e.appendChild(n),n.addEventListener("click",(()=>{t.value&&(d.addProject(t.value),c())})),e}(),n),c()}))}(),c()})),l.addEventListener("click",(()=>{o.innerHTML="",function(){const e=document.querySelector(".content-container"),t=document.createElement("div"),n=document.querySelector(".content-dialog"),c=document.createElement("button");c.classList.add("new-note","new-button"),t.classList.add("note-container"),e.appendChild(c),e.appendChild(t),a(),c.addEventListener("click",(()=>{i(function(){const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("textarea"),i=document.createElement("button");return t.required=!0,n.required=!0,e.method="dialog",i.type="submit",e.classList.add("note-form"),t.classList.add("title-input"),n.classList.add("content-input"),i.classList.add("submit-button"),e.appendChild(t),e.appendChild(n),e.appendChild(i),i.addEventListener("click",(()=>{t.value&&(d.addNote(t.value,n.value),a())})),e}(),n)}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVMsS0FDakNFLEVBQVdTLFFBQ2J6QyxFQUFVRyxRQUFRNkIsRUFBV1MsTUFBTzJCLEVBQWEzQixPQUNqRE8sSUFHRixJQUVLakIsQ0FDVCxDQW1IZXNDLEdBQVkxRCxFQUFPLEdBRWxDLENDeklFMkQsRUFBVyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL25vdGUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgdGFzayB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHN0YWdlKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gIH1cbiAgZWRpdFRhc2sodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgc3RhZ2UpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIHByb2plY3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLnRhc2tzID0gW107XG4gIH1cbiAgZWRpdFByb2plY3QodGl0bGUpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIH1cbiAgYWRkVGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBzdGFnZSkge1xuICAgIHRoaXMudGFza3MucHVzaChuZXcgdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBzdGFnZSkpO1xuICB9XG4gIHJlbW92ZVRhc2sodGFzaykge1xuICAgIHRoaXMudGFza3Muc3BsaWNlKHRhc2ssIDEpO1xuICB9XG4gIHZpZXdUYXNrKCkge1xuICAgIGNvbnNvbGUubG9nKFwidmlldyB0YXNrXCIpO1xuICB9XG4gIGNvbXBsZXRlVGFzayh0YXNrKSB7XG4gICAgdGFzay5zdGFnZSA9ICF0YXNrLnN0YWdlO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3Mgbm90ZSB7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBjb250ZW50KSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cbiAgZWRpdE5vdGUodGl0bGUsIGNvbnRlbnQpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgcHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IG5vdGUgfSBmcm9tIFwiLi9ub3RlXCI7XG5leHBvcnQgY29uc3QgbXlDb250YWluZXIgPSBmdW5jdGlvbiBjb250YWluZXIoKSB7XG4gIGNvbnN0IHByb2plY3RMaXN0ID0gW107XG4gIGNvbnN0IG5vdGVMaXN0ID0gW107XG4gIGZ1bmN0aW9uIGFkZFByb2plY3QodGl0bGUpIHtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5ldyBwcm9qZWN0KHRpdGxlKSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVQcm9qZWN0KGluZGV4KSB7XG4gICAgcHJvamVjdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICBmdW5jdGlvbiBhZGROb3RlKHRpdGxlLCBjb250ZW50KSB7XG4gICAgbm90ZUxpc3QucHVzaChuZXcgbm90ZSh0aXRsZSwgY29udGVudCkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZU5vdGUoaW5kZXgpIHtcbiAgICBub3RlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGROb3RlLFxuICAgIGFkZFByb2plY3QsXG4gICAgcmVtb3ZlTm90ZSxcbiAgICByZW1vdmVQcm9qZWN0LFxuICAgIHByb2plY3RMaXN0LFxuICAgIG5vdGVMaXN0LFxuICB9O1xufTtcbiIsImltcG9ydCB7IG15Q29udGFpbmVyIH0gZnJvbSBcIi4vY29udGFpbmVyXCI7XG5jb25zdCBjb250YWluZXIgPSBteUNvbnRhaW5lcigpO1xuZnVuY3Rpb24gbG9hZERpYWxvZyhwYWdlLCBkaWFsb2cpIHtcbiAgZGlhbG9nLmlubmVySFRNTCA9IFwiXCI7XG4gIGRpYWxvZy5hcHBlbmRDaGlsZChwYWdlKTtcbiAgZGlhbG9nLnNob3dNb2RhbCgpO1xufVxuZnVuY3Rpb24gbm90ZUZvcm0oKSB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgY29uc3QgY29udGVudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICB0aXRsZUlucHV0LnJlcXVpcmVkID0gdHJ1ZTtcbiAgY29udGVudElucHV0LnJlcXVpcmVkID0gdHJ1ZTtcblxuICBmb3JtLm1ldGhvZCA9IFwiZGlhbG9nXCI7XG4gIHN1Ym1pdEJ1dHRvbi50eXBlID0gXCJzdWJtaXRcIjtcbiAgZm9ybS5jbGFzc0xpc3QuYWRkKFwibm90ZS1mb3JtXCIpO1xuICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0aXRsZS1pbnB1dFwiKTtcbiAgY29udGVudElucHV0LmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LWlucHV0XCIpO1xuICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcInN1Ym1pdC1idXR0b25cIik7XG4gIGZvcm0uYXBwZW5kQ2hpbGQodGl0bGVJbnB1dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoY29udGVudElucHV0KTtcbiAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAodGl0bGVJbnB1dC52YWx1ZSkge1xuICAgICAgY29udGFpbmVyLmFkZE5vdGUodGl0bGVJbnB1dC52YWx1ZSwgY29udGVudElucHV0LnZhbHVlKTtcbiAgICAgIHJlbmRlck5vdGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZm9ybTtcbn1cbmZ1bmN0aW9uIHByb2plY3RGb3JtKCkge1xuICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gIGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIHRpdGxlSW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuICBmb3JtLm1ldGhvZCA9IFwiZGlhbG9nXCI7XG4gIHN1Ym1pdEJ1dHRvbi50eXBlID0gXCJzdWJtaXRcIjtcbiAgZm9ybS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1mb3JtXCIpO1xuICB0aXRsZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0aXRsZS1pbnB1dFwiKTtcbiAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtYnV0dG9uXCIpO1xuICBmb3JtLmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ1dHRvbik7XG4gIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmICh0aXRsZUlucHV0LnZhbHVlKSB7XG4gICAgICBjb250YWluZXIuYWRkUHJvamVjdCh0aXRsZUlucHV0LnZhbHVlKTtcbiAgICAgIHJlbmRlclByb2plY3RzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmb3JtO1xufVxuZnVuY3Rpb24gdGFza0Zvcm0ob2JqZWN0KSB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgY29uc3QgZHVlRGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBjb25zdCBwcmlvcml0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBjb25zdCBzdGFnZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG4gIGZvcm0uY2xhc3NMaXN0LmFkZChcInByb2plY3QtZm9ybVwiKTtcbiAgdGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKFwidGl0bGUtaW5wdXRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuY2xhc3NMaXN0LmFkZChcImRlc2NyaXB0aW9uLWlucHV0XCIpO1xuICBkdWVEYXRlSW5wdXQuY2xhc3NMaXN0LmFkZChcImR1ZURhdGUtaW5wdXRcIik7XG4gIHByaW9yaXR5SW5wdXQuY2xhc3NMaXN0LmFkZChcInByaW9yaXR5LWlucHV0XCIpO1xuICBzdGFnZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJzdGFnZS1pbnB1dFwiKTtcbiAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtYnV0dG9uXCIpO1xuXG4gIHRpdGxlSW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuICBkZXNjcmlwdGlvbklucHV0LnJlcXVpcmVkID0gdHJ1ZTtcbiAgZHVlRGF0ZUlucHV0LnJlcXVpcmVkID0gdHJ1ZTtcbiAgcHJpb3JpdHlJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG4gIHN0YWdlSW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuXG4gIGZvcm0ubWV0aG9kID0gXCJkaWFsb2dcIjtcbiAgc3VibWl0QnV0dG9uLnR5cGUgPSBcIm5vbmVcIjtcblxuICBmb3JtLmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuICBmb3JtLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpO1xuICBmb3JtLmFwcGVuZENoaWxkKGR1ZURhdGVJbnB1dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQocHJpb3JpdHlJbnB1dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoc3RhZ2VJbnB1dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKTtcblxuICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAodGl0bGVJbnB1dC52YWx1ZSkge1xuICAgICAgb2JqZWN0LmFkZFRhc2soXG4gICAgICAgIHRpdGxlSW5wdXQudmFsdWUsXG4gICAgICAgIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgICAgIGR1ZURhdGVJbnB1dC52YWx1ZSxcbiAgICAgICAgcHJpb3JpdHlJbnB1dC52YWx1ZSxcbiAgICAgICAgc3RhZ2VJbnB1dC52YWx1ZVxuICAgICAgKTtcbiAgICAgIHJlbmRlclByb2plY3RzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZm9ybTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGF0aWNQYWdlKCkge1xuICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBzaWRlQmFyTm90ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBzaWRlQmFySG9tZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IHNpZGVCYXJQcm9qZWN0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaWFsb2dcIik7XG5cbiAgZGlhbG9nLmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LWRpYWxvZ1wiKTtcbiAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XG4gIHNpZGVCYXIuY2xhc3NMaXN0LmFkZChcInNpZGViYXJcIik7XG4gIGNvbnRlbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbnRlbnQtY29udGFpbmVyXCIpO1xuICBzaWRlQmFySG9tZS5jbGFzc0xpc3QuYWRkKFwiaG9tZS1idXR0b25cIik7XG4gIHNpZGVCYXJQcm9qZWN0cy5jbGFzc0xpc3QuYWRkKFwicHJvamVjdHMtYnV0dG9uXCIpO1xuICBzaWRlQmFyTm90ZXMuY2xhc3NMaXN0LmFkZChcIm5vdGVzLWJ1dHRvblwiKTtcblxuICBzaWRlQmFyLmFwcGVuZENoaWxkKHNpZGVCYXJIb21lKTtcbiAgc2lkZUJhci5hcHBlbmRDaGlsZChzaWRlQmFyUHJvamVjdHMpO1xuICBzaWRlQmFyLmFwcGVuZENoaWxkKHNpZGVCYXJOb3Rlcyk7XG4gIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKHNpZGVCYXIpO1xuICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRlbnRDb250YWluZXIpO1xuXG4gIHNpZGVCYXJIb21lLmlubmVySFRNTCA9IFwiaG9tZVwiO1xuICBzaWRlQmFyTm90ZXMuaW5uZXJIVE1MID0gXCJub3RlXCI7XG4gIHNpZGVCYXJQcm9qZWN0cy5pbm5lckhUTUwgPSBcInByb2plY3RcIjtcbiAgcmV0dXJuIG1haW5Db250YWluZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gbm90ZXNQYWdlKCkge1xuICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LWNvbnRhaW5lclwiKTtcbiAgY29uc3Qgbm90ZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudC1kaWFsb2dcIik7XG4gIGNvbnN0IG5ld05vdGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBuZXdOb3RlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZXctbm90ZVwiLCBcIm5ldy1idXR0b25cIik7XG4gIG5vdGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm5vdGUtY29udGFpbmVyXCIpO1xuICBjb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld05vdGVCdXR0b24pO1xuICBjb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKG5vdGVDb250YWluZXIpO1xuICByZW5kZXJOb3RlcygpO1xuICBuZXdOb3RlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbG9hZERpYWxvZyhub3RlRm9ybSgpLCBkaWFsb2cpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0c1BhZ2UoKSB7XG4gIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtY29udGFpbmVyXCIpO1xuICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3QgZGlhbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LWRpYWxvZ1wiKTtcbiAgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIHByb2plY3RDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInByb2plY3QtY29udGFpbmVyXCIpO1xuICBuZXdQcm9qZWN0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZXctcHJvamVjdFwiLCBcIm5ldy1idXR0b25cIik7XG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3UHJvamVjdEJ1dHRvbik7XG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdENvbnRhaW5lcik7XG5cbiAgbmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGxvYWREaWFsb2cocHJvamVjdEZvcm0oKSwgZGlhbG9nKTtcbiAgICByZW5kZXJQcm9qZWN0cygpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQcm9qZWN0cygpIHtcbiAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1jb250YWluZXJcIik7XG4gIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudC1kaWFsb2dcIik7XG4gIHByb2plY3RDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgY29udGFpbmVyLnByb2plY3RMaXN0LmZvckVhY2goKG9iamVjdCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHByb2plY3RUaXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgcHJvamVjdENvbnRlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IG5ld1Rhc2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG4gICAgcHJvamVjdERpdi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1kaXZcIik7XG4gICAgcHJvamVjdFRpdGxlRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlLWRpdlwiKTtcbiAgICBwcm9qZWN0Q29udGVudERpdi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1jb250ZW50LWRpdlwiKTtcbiAgICBuZXdUYXNrQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZXctdGFzay1idXR0b25cIik7XG5cbiAgICBwcm9qZWN0RGl2LmRhdGFzZXQuaW5kZXggPSBjb250YWluZXIucHJvamVjdExpc3QuaW5kZXhPZihvYmplY3QpO1xuXG4gICAgbmV3VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgbG9hZERpYWxvZyh0YXNrRm9ybShvYmplY3QpLCBkaWFsb2cpO1xuICAgIH0pO1xuXG4gICAgb2JqZWN0LnRhc2tzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29uc3QgdGFza0NoZWNrQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgY29uc3QgdGFza0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgICB0YXNrRGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWRpdlwiKTtcbiAgICAgIHRhc2tDaGVja0JveC5jbGFzc0xpc3QuYWRkKFwidGFzay1jaGVja2JveFwiKTtcbiAgICAgIHRhc2tMYWJlbC5jbGFzc0xpc3QuYWRkKFwidGFzay1sYWJlbFwiKTtcblxuICAgICAgdGFza0xhYmVsLmlubmVyVGV4dCA9IGVsZW1lbnQudGl0bGU7XG5cbiAgICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0NoZWNrQm94KTtcbiAgICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0xhYmVsKTtcblxuICAgICAgcHJvamVjdENvbnRlbnREaXYuYXBwZW5kQ2hpbGQodGFza0Rpdik7XG4gICAgfSk7XG4gICAgcHJvamVjdFRpdGxlRGl2LmlubmVySFRNTCA9IG9iamVjdC50aXRsZTtcbiAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3RUaXRsZURpdik7XG4gICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0Q29udGVudERpdik7XG4gICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChuZXdUYXNrQnV0dG9uKTtcbiAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlck5vdGVzKCkge1xuICBjb25zdCBub3RlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ub3RlLWNvbnRhaW5lclwiKTtcbiAgY29uc3QgY29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudC1jb250YWluZXJcIik7XG4gIG5vdGVDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgY29udGFpbmVyLm5vdGVMaXN0LmZvckVhY2goKG5vdGVzKSA9PiB7XG4gICAgY29uc3Qgbm90ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgbm90ZVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBub3RlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBub3RlRGl2LmNsYXNzTGlzdC5hZGQoXCJub3RlLWRpdlwiKTtcbiAgICBub3RlVGl0bGUuY2xhc3NMaXN0LmFkZChcIm5vdGUtdGl0bGVcIik7XG4gICAgbm90ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcIm5vdGUtY29udGVudFwiKTtcblxuICAgIG5vdGVEaXYuZGF0YXNldC5pbmRleCA9IGNvbnRhaW5lci5ub3RlTGlzdC5pbmRleE9mKG5vdGVzKTtcblxuICAgIG5vdGVUaXRsZS5pbm5lclRleHQgPSBub3Rlcy50aXRsZTtcbiAgICBub3RlQ29udGVudC5pbm5lclRleHQgPSBub3Rlcy5jb250ZW50O1xuXG4gICAgbm90ZURpdi5hcHBlbmRDaGlsZChub3RlVGl0bGUpO1xuICAgIG5vdGVEaXYuYXBwZW5kQ2hpbGQobm90ZUNvbnRlbnQpO1xuICAgIG5vdGVDb250YWluZXIuYXBwZW5kQ2hpbGQobm90ZURpdik7XG4gICAgY29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZChub3RlQ29udGFpbmVyKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhdHRyaWJ1dGVVcGRhdGUoZWxlbWVudCwgb2JqZWN0LCBsaXN0KSB7XG4gIGVsZW1lbnQuZGF0YXNldC5pbmRleCA9IGNvbnRlbnQubGlzdC5pbmRleE9mKG9iamVjdCk7XG59XG4iLCJpbXBvcnQgeyBzdGF0aWNQYWdlLCBwcm9qZWN0c1BhZ2UsIG5vdGVzUGFnZSwgcmVuZGVyUHJvamVjdHMgfSBmcm9tIFwiLi9yZW5kZXJcIjtcbnN0YXRpY1BhZ2UoKTtcbmNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtY29udGFpbmVyXCIpO1xuY29uc3QgcHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHMtYnV0dG9uXCIpO1xuY29uc3QgaG9tZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZS1idXR0b25cIik7XG5jb25zdCBub3RlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ub3Rlcy1idXR0b25cIik7XG5wcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnRlbnRDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgcHJvamVjdHNQYWdlKCk7XG4gIHJlbmRlclByb2plY3RzKCk7XG59KTtcbm5vdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29udGVudENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICBub3Rlc1BhZ2UoKTtcbn0pO1xuIl0sIm5hbWVzIjpbInRhc2siLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJzdGFnZSIsInRoaXMiLCJlZGl0VGFzayIsInByb2plY3QiLCJ0YXNrcyIsImVkaXRQcm9qZWN0IiwiYWRkVGFzayIsInB1c2giLCJyZW1vdmVUYXNrIiwic3BsaWNlIiwidmlld1Rhc2siLCJjb25zb2xlIiwibG9nIiwiY29tcGxldGVUYXNrIiwibm90ZSIsImNvbnRlbnQiLCJlZGl0Tm90ZSIsImNvbnRhaW5lciIsInByb2plY3RMaXN0Iiwibm90ZUxpc3QiLCJhZGROb3RlIiwiYWRkUHJvamVjdCIsInJlbW92ZU5vdGUiLCJpbmRleCIsInJlbW92ZVByb2plY3QiLCJteUNvbnRhaW5lciIsImxvYWREaWFsb2ciLCJwYWdlIiwiZGlhbG9nIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJzaG93TW9kYWwiLCJyZW5kZXJQcm9qZWN0cyIsInByb2plY3RDb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwib2JqZWN0IiwicHJvamVjdERpdiIsImNyZWF0ZUVsZW1lbnQiLCJwcm9qZWN0VGl0bGVEaXYiLCJwcm9qZWN0Q29udGVudERpdiIsIm5ld1Rhc2tCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwiaW5kZXhPZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JtIiwidGl0bGVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJkdWVEYXRlSW5wdXQiLCJwcmlvcml0eUlucHV0Iiwic3RhZ2VJbnB1dCIsInN1Ym1pdEJ1dHRvbiIsInJlcXVpcmVkIiwibWV0aG9kIiwidHlwZSIsInZhbHVlIiwidGFza0Zvcm0iLCJlbGVtZW50IiwidGFza0RpdiIsInRhc2tDaGVja0JveCIsInRhc2tMYWJlbCIsImlubmVyVGV4dCIsInJlbmRlck5vdGVzIiwibm90ZUNvbnRhaW5lciIsImNvbnRlbnRDb250YWluZXIiLCJub3RlcyIsIm5vdGVEaXYiLCJub3RlVGl0bGUiLCJub3RlQ29udGVudCIsIm1haW5Db250YWluZXIiLCJoZWFkZXIiLCJzaWRlQmFyIiwic2lkZUJhck5vdGVzIiwic2lkZUJhckhvbWUiLCJzaWRlQmFyUHJvamVjdHMiLCJzdGF0aWNQYWdlIiwicHJvamVjdEJ1dHRvbiIsIm5vdGVCdXR0b24iLCJuZXdQcm9qZWN0QnV0dG9uIiwicHJvamVjdEZvcm0iLCJwcm9qZWN0c1BhZ2UiLCJuZXdOb3RlQnV0dG9uIiwiY29udGVudElucHV0Iiwibm90ZUZvcm0iLCJub3Rlc1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9